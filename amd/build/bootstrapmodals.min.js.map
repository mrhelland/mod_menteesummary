{"version":3,"file":"bootstrapmodals.min.js","sources":["../src/bootstrapmodals.js"],"sourcesContent":["/**\n * Display assignment feedback in a scrollable Moodle modal (Moodle 4.5+).\n *\n * @module mod_menteesummary/bootstrapmodals\n */\ndefine(['jquery', 'core/modal', 'core/modal_events', 'core/notification'],\nfunction($, Modal, ModalEvents, Notification) {\n\n    const init = () => {\n        $(document).on('click', '[data-feedback-target]', function(e) {\n            e.preventDefault();\n\n            const target = $(this).attr('data-feedback-target');\n            const title  = $(this).data('title') || 'Feedback';\n            const $content = $(target);\n\n            if (!$content.length) {\n                return;\n            }\n\n            // Wrap feedback in Moodle's scrollable container.\n            const bodyHtml = `\n                <div class=\"modal-scrollable p-3\" style=\"max-height:60vh; overflow-y:auto;\">\n                    ${$content.html() || ''}\n                </div>\n            `;\n\n            Modal.create({\n                title: title,\n                body: bodyHtml,\n                large: true\n            }).then(modal => {\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, () => modal.destroy());\n            }).catch(err => {\n                Notification.exception(err);\n            });\n        });\n    };\n\n    return { init: init };\n});\n\n\n\n\n\n\n\n"],"names":["define","$","Modal","ModalEvents","Notification","init","document","on","e","preventDefault","target","this","attr","title","data","$content","length","bodyHtml","html","create","body","large","then","modal","show","getRoot","hidden","destroy","catch","err","exception"],"mappings":"AAKAA,2CAAO,CAAC,SAAU,aAAc,oBAAqB,sBACrD,SAASC,EAAGC,MAAOC,YAAaC,oBAkCrB,CAAEC,KAhCI,KACTJ,EAAEK,UAAUC,GAAG,QAAS,0BAA0B,SAASC,GACvDA,EAAEC,uBAEIC,OAAST,EAAEU,MAAMC,KAAK,wBACtBC,MAASZ,EAAEU,MAAMG,KAAK,UAAY,WAClCC,SAAWd,EAAES,YAEdK,SAASC,oBAKRC,uIAEIF,SAASG,QAAU,6CAI7BhB,MAAMiB,OAAO,CACTN,MAAOA,MACPO,KAAMH,SACNI,OAAO,IACRC,MAAKC,QACJA,MAAMC,OACND,MAAME,UAAUlB,GAAGJ,YAAYuB,QAAQ,IAAMH,MAAMI,eACpDC,OAAMC,MACLzB,aAAa0B,UAAUD"}
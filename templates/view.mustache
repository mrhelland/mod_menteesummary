<!-- Back to Mentee Selection -->
<div class="mb-3">
  <a href="{{backurl}}" class="text-decoration-none">
    <i class="fa fa-arrow-left me-2"></i>{{#str}} backtomentee, mod_menteesummary {{/str}}
  </a>
</div>

<!-- Mentee Header Card -->
<div class="card mb-2 shadow-sm">
  <div class="card-body d-flex align-items-center p-3">
    <div class="me-3">
      {{{mentee.picture}}}
    </div>
    <div>
      <small class="text-muted">{{#str}} viewingmentee, mod_menteesummary {{/str}}</small>
      <h3 class="mb-0">{{mentee.fullname}}</h3>
    </div>
  </div>
</div>

<!-- Course Tabs -->
<ul class="nav nav-tabs mb-3" id="courseTabs" role="tablist">
  {{#mentee.courses}}
    <li class="nav-item" role="presentation">
      <a class="nav-link {{#iscurrent}}active{{/iscurrent}}"
         id="tab-{{id}}"
         href="{{selecturl}}"
         role="tab"
         aria-controls="course-{{id}}"
         aria-selected="{{#iscurrent}}true{{/iscurrent}}{{^iscurrent}}false{{/iscurrent}}">
        <i class="fa fa-book me-2"></i>{{fullname}}
      </a>
    </li>
  {{/mentee.courses}}
</ul>

<!-- Course Content -->
<div class="tab-content" id="courseTabsContent">
  {{#hascurrentcourse}}
    {{#mentee.courses}}
      <div class="tab-pane fade {{#iscurrent}}show active{{/iscurrent}}"
          id="course-{{id}}"
          role="tabpanel"
          aria-labelledby="tab-{{id}}">

        <div class="card mt-3">
          <div class="card-body">
            <h4 class="card-title">{{fullname}}</h4>
            <p class="card-text">
              <strong>{{#str}} grade, mod_menteesummary {{/str}}:</strong> {{grade}}
            </p>

            <!-- Responsive assignment sections -->
            <div class="row gx-0 gx-lg-5">


              <!-- All Assignments -->
              <div class="col-lg-6">
                <h5 class="mt-3">{{#str}} assignments, mod_menteesummary {{/str}}</h5>
                <ul class="list-group list-group-flush">
                  {{#allassignments}}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                      <span>
                        <strong>{{name}}</strong><br>
                        <small class="text-muted">{{duedateformatted}}</small>
                      </span>
                      <span>
                        {{#submitted}}
                          {{#graded}}
                            <span class="badge bg-success text-white fs-6 fw-bold px-3 py-1">{{grade}} / {{maxgrade}}</span>
                          {{/graded}}
                          {{^graded}}
                            <span class="badge bg-info text-white fs-6 fw-bold px-3 py-1">{{#str}} submitted, mod_menteesummary {{/str}}</span>
                          {{/graded}}
                        {{/submitted}}

                        {{#missing}}
                          <span class="badge bg-danger text-white fs-6 fw-bold px-3 py-1">{{#str}} missing, mod_menteesummary {{/str}}</span>
                        {{/missing}}
                      </span>
                    </li>
                  {{/allassignments}}
                  {{^allassignments}}
                    <li class="list-group-item text-muted">{{#str}} noassignments, mod_menteesummary {{/str}}</li>
                  {{/allassignments}}
                </ul>
              </div>

              <!-- Missing Assignments -->
              <div class="col-lg-6 border-start border-3 border-secondary">
                <div class="col-12 col-lg-12 mb-6">
                  <h5 class="mt-3 text-danger">{{#str}} missingassignments, mod_menteesummary {{/str}}</h5>
                  <ul class="list-group list-group-flush">
                    {{#missing}}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>
                          <strong>{{name}}</strong><br>
                          <small class="text-muted">{{duedateformatted}}</small>
                        </span>
                      </li>
                    {{/missing}}
                    {{^missing}}
                      <li class="list-group-item text-muted">{{#str}} nomissingassignments, mod_menteesummary {{/str}}</li>
                    {{/missing}}
                  </ul>
                </div>

                <!-- Upcoming Assignments -->
                <div class="col-12 col-lg-12 mb-3">
                  <h5 class="mt-3 text-primary">{{#str}} upcomingassignments, mod_menteesummary {{/str}}</h5>
                  <ul class="list-group list-group-flush">
                    {{#upcoming}}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>
                          <strong>{{name}}</strong><br>
                          <small class="text-muted">{{duedateformatted}}</small>
                        </span>
                        <span class="badge bg-primary text-white">{{#str}} upcoming, mod_menteesummary {{/str}}</span>
                      </li>
                    {{/upcoming}}
                    {{^upcoming}}
                      <li class="list-group-item text-muted">{{#str}} noupcomingassignments, mod_menteesummary {{/str}}</li>
                    {{/upcoming}}
                  </ul>
                </div>
              </div>
            </div> <!-- /.row -->
          </div>
        </div>
      </div>
    {{/mentee.courses}}
  {{/hascurrentcourse}}
  {{^hascurrentcourse}}
    <div class="alert alert-info text-center mt-4">
      <i class="fa fa-info-circle me-2"></i>
      {{#str}} chooseacourse, mod_menteesummary {{/str}}
    </div>
  {{/hascurrentcourse}}
</div>




